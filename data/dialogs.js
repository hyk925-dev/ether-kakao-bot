// ============================================
// ëŒ€ì‚¬ ì‹œìŠ¤í…œ v3.0 (ì „íˆ¬ ì´íŽ™íŠ¸ ê°•í™”)
// ============================================
const BLACKSMITH_LINES = {
  success: ["í—ˆí—ˆ, ì´ ì •ë„ ì‹¤ë ¥ì´ë©´ ë­...", "ì˜¤, ì œë²•ì¸ë°?", "ì¢‹ì•˜ì–´! ë¹›ì´ ë‚˜ëŠ”êµ°!"],
  fail: ["ì¯§, ìš´ëª…ì˜ ìž¥ë‚œì¸ê°€...", "ì—íœ´, ìž¬ë£Œê°€ ì•„ê¹Œì›Œ.", "ë‹¤ì‹œ í•´ë³¼ í…ê°€?"],
  destroy: ["ì´ëŸ°... ë¯¸ì•ˆí•˜êµ°...", "ìž¥ë¹„ê°€ ê°€ë£¨ê°€ ëì–´...", "ë‚´ ì‹¤ë ¥ì´ ë¶€ì¡±í–ˆë‚˜..."],
  maintain: ["ì“¸ë°ì—†ì´ íŠ¼íŠ¼í•˜ê¸°ë§Œ í•˜êµ°.", "ë‹¤í–‰ížˆ ë¶€ì„œì§€ì§„ ì•Šì•˜ë„¤."],
  greet: ["ì–´ì„œ ì™€. ë­˜ ê°•í™”í•  ê±´ê°€?", "ê°•í™”? ì¢‹ì§€, ë­˜ ê°€ì ¸ì™”ë‚˜?"],
  maxEnhance: ["ì´ë¯¸ ì™„ë²½í•´! ë” ì´ìƒì€ ë¬´ë¦¬ì•¼.", "+10ì´ë©´ ì¶©ë¶„í•˜ì§€ ì•Šë‚˜?"]
};

// v3.0 ì „íˆ¬ ì´íŽ™íŠ¸
const BATTLE_EFFECTS = {
  // ê³µê²©
  attack: {
    normal: 'âš”ï¸ {player}ì˜ ê³µê²©! {enemy}ì—ê²Œ **{damage}** í”¼í•´!',
    crit: 'ðŸ’¥âš”ï¸ **í¬ë¦¬í‹°ì»¬!** {player}ì˜ ë‚ ì¹´ë¡œìš´ ì¼ê²©! {enemy}ì—ê²Œ **{damage}** í”¼í•´!',
    interpretedCrit: 'ðŸ’¥ðŸ”® **í•´ì„ëœ ì¼ê²©!** ì§„ì‹¤ì€ ê±°ì§“ì„ ê¿°ëš«ëŠ”ë‹¤! **{damage}** í”¼í•´!',
    miss: 'ðŸ’¨ {enemy}ì´(ê°€) ìž¬ë¹ ë¥´ê²Œ íšŒí”¼í–ˆë‹¤!',
    evade: 'ðŸŒªï¸ {player}ì´(ê°€) í™”ë ¤í•˜ê²Œ íšŒí”¼!'
  },
  
  // ë°©ì–´
  defend: {
    normal: 'ðŸ›¡ï¸ {player}ì´(ê°€) ë°©ì–´ íƒœì„¸! ë°›ëŠ” í”¼í•´ 50% ê°ì†Œ.',
    counter: 'ðŸ›¡ï¸ðŸ’¢ **ë°˜ê²©!** ì² í˜ˆë³‘ì˜ ë°©íŒ¨ê°€ ì ì„ ë˜ë°›ì•„ì¹œë‹¤! **{damage}** í”¼í•´!',
    ironblood: 'ðŸ”° ì² ë²½ ë°œë™! ë°›ëŠ” í”¼í•´ -20%'
  },
  
  // í•´ì„
  interpret: {
    attempt: 'ðŸ‘ {player}ì´(ê°€) {enemy}ì˜ ë³¸ì§ˆì„ ì½ëŠ”ë‹¤...',
    success: 'ðŸ‘âœ¨ **í•´ì„ ì„±ê³µ!**\n{enemy}ì˜ ì•½ì ì´ ë“œëŸ¬ë‚¬ë‹¤!\n\nðŸ”“ ë°©ì–´ {defIgnore}% ë¬´ì‹œ (ì˜êµ¬)\nðŸ’¥ 3í„´ê°„ í¬ë¦¬í‹°ì»¬ í™•ì •',
    fail: 'ðŸ‘ðŸ’¨ í•´ì„ ì‹¤íŒ¨... {enemy}ì˜ ë³¸ì§ˆì´ ì•ˆê°œì— ê°€ë ¤ì¡Œë‹¤.',
    already: 'ðŸ“œ ì´ë¯¸ í•´ì„ëœ ì¡´ìž¬. ëª¨ë“  ê²ƒì´ ë³´ì¸ë‹¤.'
  },
  
  // í”¼í•´/íšŒë³µ
  damage: {
    normal: 'ðŸ’” {target}ì´(ê°€) **{damage}** í”¼í•´ë¥¼ ìž…ì—ˆë‹¤! (HP: {currentHp}/{maxHp})',
    poison: 'ðŸ§ª ë…ì´ í¼ì§„ë‹¤... **{damage}** í”¼í•´!',
    burn: 'ðŸ”¥ í™”ì—¼ì´ íƒœìš´ë‹¤... **{damage}** í”¼í•´!',
    thorns: 'ðŸŒ¹ ê°€ì‹œì— ì°”ë ¸ë‹¤! **{damage}** ë°˜ì‚¬ í”¼í•´!',
    overflow: 'ðŸ’” ê´‘ê¸°ê°€ ìœ¡ì²´ë¥¼ ê°‰ì•„ë¨¹ëŠ”ë‹¤... **{damage}** ìží•´!'
  },
  
  heal: {
    potion: 'ðŸ§ªâœ¨ ë¬¼ì•½ì„ ë§ˆì…¨ë‹¤! HP **+{amount}** íšŒë³µ! (HP: {currentHp}/{maxHp})',
    lifesteal: 'ðŸ’œ ìƒëª…ë ¥ í¡ìˆ˜! HP **+{amount}** íšŒë³µ!',
    regen: 'âœ¨ ìž¬ìƒ! HP **+{amount}** íšŒë³µ!'
  },
  
  // ìƒíƒœì´ìƒ
  status: {
    poison: 'ðŸ§ª **[ì¤‘ë…]** ë§¤ í„´ í”¼í•´ë¥¼ ìž…ëŠ”ë‹¤!',
    burn: 'ðŸ”¥ **[í™”ìƒ]** ë§¤ í„´ í”¼í•´ë¥¼ ìž…ëŠ”ë‹¤!',
    seal: 'ðŸ”’ **[ë´‰ì¸]** í–‰ë™í•  ìˆ˜ ì—†ë‹¤!',
    blind: 'ðŸŒ‘ **[ì‹¤ëª…]** ëª…ì¤‘ë¥ ì´ í¬ê²Œ ê°ì†Œí•œë‹¤!',
    weaken: 'ðŸ“‰ **[ì•½í™”]** ê³µê²©ë ¥ì´ ê°ì†Œí–ˆë‹¤!'
  },
  
  // ì „íˆ¬ ê²°ê³¼
  result: {
    victory: 'ðŸŽ‰ **ìŠ¹ë¦¬!** {enemy}ì„(ë¥¼) ì“°ëŸ¬ëœ¨ë ¸ë‹¤!\nðŸ’° ê³¨ë“œ +{gold} | âœ¨ ê²½í—˜ì¹˜ +{exp}',
    defeat: 'ðŸ’€ **íŒ¨ë°°...** {player}ì´(ê°€) ì“°ëŸ¬ì¡Œë‹¤...',
    levelUp: 'ðŸŒŸâœ¨ **LEVEL UP!** {player} Lv.{level} ë‹¬ì„±!',
    drop: 'ðŸ’Ž **ë“œëž!** {item}ì„(ë¥¼) íšë“í–ˆë‹¤!'
  },
  
  // ë³´ìŠ¤ íŠ¹ìˆ˜
  boss: {
    encounter: 'âš ï¸ðŸ’€ **ë³´ìŠ¤ ì¶œí˜„!** {boss}ì´(ê°€) ì•žì„ ë§‰ì•„ì„ ë‹¤!',
    phase: 'ðŸ”¥ **{boss}ì˜ ëˆˆì´ ë¶‰ê²Œ ë¹›ë‚œë‹¤!** 2íŽ˜ì´ì¦ˆ ëŒìž…!',
    enrage: 'ðŸ’¢ **ê²©ë…¸!** {boss}ì˜ ê³µê²©ë ¥ì´ ìƒìŠ¹í•œë‹¤!'
  }
};

// v3.0 ìŠ¤í‚¬ ì´íŽ™íŠ¸
const SKILL_EFFECTS = {
  wanderer: {
    name: 'ê²°ë‹¨ì˜ ì¼ê²©',
    cast: 'âš”ï¸ {player}ì´(ê°€) ê²€ì„ ë†’ì´ ì¹˜ì¼œë“ ë‹¤!',
    hit: 'âš”ï¸ðŸ’¥ **ê²°ë‹¨ì˜ ì¼ê²©!**\ní”¼ë¡œ ë¬¼ë“  ê²€ì´ {enemy}ì„(ë¥¼) ê°€ë¥¸ë‹¤!\n\nðŸ©¸ ìžƒì€ HP {lostPercent}% â†’ ì¶”ê°€ ë°ë¯¸ì§€ **+{bonusDamage}**\nðŸ’€ ì´ **{totalDamage}** í”¼í•´!',
    lowHp: 'ðŸ”¥ **ì‚¬ì„ ì˜ ê°ì„±!** ê³µê²©ë ¥ +30%, ë°›ëŠ” í”¼í•´ -15%!'
  },
  
  hunter: {
    name: 'ì•½ì  ì €ê²©',
    cast: 'ðŸ¹ {player}ì´(ê°€) í™œì‹œìœ„ë¥¼ ë‹¹ê¸´ë‹¤... ì§‘ì¤‘...',
    hit: 'ðŸ¹âœ¨ **ì•½ì  ì €ê²©!**\ní™”ì‚´ì´ {enemy}ì˜ ê¸‰ì†Œë¥¼ ê¿°ëš«ëŠ”ë‹¤!\n\nðŸ’¥ **í™•ì • í¬ë¦¬í‹°ì»¬!** í¬ë¦¬ ë°ë¯¸ì§€ +50%\nðŸ’€ **{damage}** í”¼í•´!',
    chain: 'ðŸ”¥ **í¬ì‹ìžì˜ ëˆˆ!** ë‹¤ìŒ ê³µê²©ë„ í¬ë¦¬í‹°ì»¬ í™•ì •!'
  },
  
  heretic: {
    name: 'ê¸ˆê¸° ì£¼ë¬¸',
    cast: 'ðŸŒ€ {player}ì˜ ëˆˆì—ì„œ ê´‘ê¸°ê°€ ë²ˆëœ©ì¸ë‹¤...',
    hit: 'ðŸŒ€ðŸ”¥ **ê¸ˆê¸° ì£¼ë¬¸!**\nê¸ˆì§€ëœ ë¬¸ìž¥ì´ í˜„ì‹¤ì„ ì°¢ëŠ”ë‹¤!\n\nðŸ’€ **{damage}** í”¼í•´!\nðŸŒ€ ê´‘ê¸° +20 (í˜„ìž¬: {madness})',
    madBonus: 'ðŸ˜ˆ **ê´‘ê¸° í­ì£¼!** ê´‘ê¸° 50+ â†’ í”¼í•´ 2ë°°!',
    overflow: 'ðŸ’” ê´‘ê¸°ê°€ ìœ¡ì²´ë¥¼ ê°‰ì•„ë¨¹ëŠ”ë‹¤... ìžì‹ ì—ê²Œ **{selfDamage}** í”¼í•´!'
  },
  
  shaman: {
    name: 'í˜¼ì˜ ê°ˆê³ ë¦¬',
    cast: 'ðŸ‘ {player}ì´(ê°€) ë³´ì´ì§€ ì•ŠëŠ” ì†ì„ ë»—ëŠ”ë‹¤...',
    hit: 'ðŸ‘ðŸª **í˜¼ì˜ ê°ˆê³ ë¦¬!**\n{enemy}ì˜ íž˜ì„ ëœ¯ì–´ë‚¸ë‹¤!\n\nðŸ“‰ ì  ê³µê²©ë ¥ -{stolen} (3í„´)\nðŸ“ˆ ë‚´ ê³µê²©ë ¥ +{stolen}!\nðŸ’€ **{damage}** í”¼í•´ + ðŸ’œ **{heal}** í¡í˜ˆ!'
  },
  
  ironblood: {
    name: 'ì² ì˜ í¬íš¨',
    cast: 'ðŸ›¡ï¸ {player}ì´(ê°€) ë°©íŒ¨ë¥¼ ë“¤ì–´ì˜¬ë¦°ë‹¤!',
    hit: 'ðŸ›¡ï¸ðŸ’¢ **ì² ì˜ í¬íš¨!**\nê°•ì² ì˜ ê¸°ë°±ì´ ì˜¨ ëª¸ì„ ê°ì‹¼ë‹¤!\n\nðŸ”° 3í„´ê°„ ë°›ëŠ” í”¼í•´ -50%\nðŸŒ¹ ê³µê²©ë°›ì„ ë•Œë§ˆë‹¤ **{thorns}** ë°˜ì‚¬ í”¼í•´!'
  },
  
  scribe: {
    name: 'ë¬¸ìž¥ ì™œê³¡',
    cast: 'ðŸ“– {player}ì´(ê°€) í—ˆê³µì— ë¬¸ìž¥ì„ ìƒˆê¸´ë‹¤...',
    hit: 'ðŸ“–âœ’ï¸ **ë¬¸ìž¥ ì™œê³¡!**\n{enemy}ì˜ ì¡´ìž¬ ë¬¸ìž¥ì´ ì§€ì›Œì§„ë‹¤!\n\nðŸ”’ **{duration}í„´ ë´‰ì¸!** (í–‰ë™ ë¶ˆê°€)',
    interpreted: 'ðŸ“œ í•´ì„ ì™„ë£Œ ìƒíƒœ â†’ ë´‰ì¸ 2í„´!'
  }
};

const BATTLE_LINES = {
  bossAppear: ["ê°•í•œ ê¸°ìš´ì´ ëŠê»´ì§„ë‹¤...", "ì¡°ì‹¬í•´! ë³´ìŠ¤ë‹¤!"],
  victory: ["ìŠ¹ë¦¬ë‹¤!", "í•´ëƒˆì–´!"],
  levelUp: ["ëª¸ì— íž˜ì´ ì†ŸëŠ”ë‹¤!", "ë” ê°•í•´ì§„ ëŠë‚Œì´ì•¼!"],
  death: ["ì´ëŸ°... ì—¬ê¸°ì„œ ì“°ëŸ¬ì§€ë‹¤ë‹ˆ...", "ë‹¤ìŒì—”... ë°˜ë“œì‹œ..."],
  itemDrop: ["ë­”ê°€ ë–¨ì–´ì¡Œë‹¤!", "ì „ë¦¬í’ˆì„ ë°œê²¬í–ˆë‹¤!"]
};

const EXPLORE_EVENTS = {
  gambler: { name: 'ðŸŽ° ë„ë°•ê¾¼', desc: 'ëª¨ ì•„ë‹ˆë©´ ë„! ê³¨ë“œë¥¼ ê±¸ì–´ë³¼ê¹Œ?' },
  ghost: { name: 'ðŸ‘» ë– ë„ëŠ” ì˜í˜¼', desc: 'íž˜ì„ ë‚˜ëˆ ì¤„ê¹Œ... ì•„ë‹ˆë©´...' },
  statue: { name: 'ðŸ—¿ ê³ ëŒ€ ì„ìƒ', desc: 'ìˆ˜ìˆ˜ê»˜ë¼ë¥¼ ë§žì¶”ë©´ ë³´ìƒì„ ì£¼ì§€.' },
  altar: { name: 'ðŸ©¸ í”¼ì˜ ì œë‹¨', desc: 'HPë¥¼ ë°”ì¹˜ë©´ ë³´ë¬¼ì„ ì£¼ê² ë‹¤.' },
  map: { name: 'ðŸ“œ ë‚¡ì€ ì§€ë„', desc: 'ë‹¤ìŒ íƒì‚¬ì—ì„œ ë³´ë¬¼ì´ í™•ì •ëœë‹¤!' },
  rift: { name: 'ðŸŒ‘ ì‹¬ì—°ì˜ ê· ì—´', desc: 'ê°•ë ¥í•œ ì¡´ìž¬ê°€ ëŠê»´ì§„ë‹¤...' }
};

const RIDDLES = [
  { q: 'ë°¤ì— íƒœì–´ë‚˜ ë‚®ì— ì£½ëŠ” ê²ƒì€?', a: 'ë³„' },
  { q: 'ê°€ë©´ ê°ˆìˆ˜ë¡ ë©€ì–´ì§€ëŠ” ê²ƒì€?', a: 'ê³¼ê±°' },
  { q: 'ì•žìœ¼ë¡œë§Œ ê°ˆ ìˆ˜ ìžˆëŠ” ê²ƒì€?', a: 'ì‹œê°„' }
];

const getLine = (obj, type) => {
  const lines = obj[type];
  return lines ? lines[Math.floor(Math.random() * lines.length)] : '';
};

module.exports = {
  BLACKSMITH_LINES,
  BATTLE_EFFECTS,
  SKILL_EFFECTS,
  BATTLE_LINES,
  EXPLORE_EVENTS,
  RIDDLES,
  getLine
};

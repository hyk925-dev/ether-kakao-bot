// ============================================
// ë³´ìŠ¤ ì‹œìŠ¤í…œ v4.0 (í˜ì´ì¦ˆ + íŠ¹ìˆ˜ ëŠ¥ë ¥)
// ============================================

/**
 * v4.0 ë³´ìŠ¤ ì‹œìŠ¤í…œ
 * - 10ê°œ ë³´ìŠ¤ (10ì¸µ, 20ì¸µ, ..., 100ì¸µ)
 * - HP ê¸°ë°˜ í˜ì´ì¦ˆ ì „í™˜ (2~3í˜ì´ì¦ˆ)
 * - í˜ì´ì¦ˆë³„ íŒ¨í„´ í’€
 * - íŠ¹ìˆ˜ ëŠ¥ë ¥: ë²„í”„, ë””ë²„í”„, ë°©ë¬´, íšŒë³µ, ê´‘ì—­, ì €ì£¼
 * - ì²« í‚¬ ë³´ìƒ: Rare (10-30ì¸µ), Heroic (40-60ì¸µ), Legendary (70-100ì¸µ)
 */

const { UNIVERSAL_PATTERNS } = require('./monsters');

// ============================================
// ë³´ìŠ¤ ì „ìš© íŠ¹ìˆ˜ ëŠ¥ë ¥
// ============================================
const BOSS_ABILITIES = {
  // ë²„í”„ ê³„ì—´
  ë²„í”„_ê³µê²©: {
    id: 'ë²„í”„_ê³µê²©',
    name: 'ê´‘í­í™”',
    correct: 'ì—­ìŠµ',
    dmgMult: 0.3,
    buffAtk: 0.5,
    buffDuration: 3,
    telegraph: {
      0: 'ì ì´ í¥ë¶„í•œë‹¤',
      1: 'ì ì˜ ëˆˆì´ ë¶‰ì–´ì§„ë‹¤',
      2: 'ê´‘í­í™”! 3í„´ê°„ ê³µê²©ë ¥ +50%',
      3: 'ì™„ì „ ê´‘í­í™”! ê±°ëŒ€í•œ ìœ„í˜‘!',
      4: 'âš ï¸ ê´‘í­í™”! ì—­ìŠµìœ¼ë¡œ ëŠì–´ì•¼! ê³µê²©ë ¥ +50%!'
    }
  },
  
  ë²„í”„_ë°©ì–´: {
    id: 'ë²„í”„_ë°©ì–´',
    name: 'ì² ë²½',
    correct: 'ì—­ìŠµ',
    dmgMult: 0.2,
    defBonus: 0.8,
    duration: 2,
    telegraph: {
      0: 'ë°©ì–´ íƒœì„¸ë¥¼ ê°•í™”í•œë‹¤',
      1: 'ë‹¨ë‹¨í•œ ê°‘ì˜·ì´ ìƒê¸´ë‹¤',
      2: 'ì² ë²½! 2í„´ê°„ ë°©ì–´ë ¥ +80%',
      3: 'ê±°ì˜ ëš«ì„ ìˆ˜ ì—†ëŠ” ë°©ì–´!',
      4: 'âš ï¸ ì² ë²½! ì—­ìŠµìœ¼ë¡œ ê¹¨ëœ¨ë ¤ì•¼! ë°©ì–´ë ¥ +80%!'
    }
  },
  
  ë²„í”„_ì†ë„: {
    id: 'ë²„í”„_ì†ë„',
    name: 'ê°€ì†',
    correct: 'ì—­ìŠµ',
    dmgMult: 0.1,
    buffSpd: 10,
    buffDuration: 3,
    telegraph: {
      0: 'ì›€ì§ì„ì´ ë¹¨ë¼ì§„ë‹¤',
      1: 'ì‹œê°„ì´ ëŠë ¤ ë³´ì¸ë‹¤',
      2: 'ê°€ì†! 3í„´ê°„ ì†ë„ +10',
      3: 'ì´ˆê³ ì† ì›€ì§ì„!',
      4: 'âš ï¸ ê°€ì†! ì—­ìŠµìœ¼ë¡œ ëŠì–´ì•¼! ì†ë„ +10!'
    }
  },
  
  // ë””ë²„í”„ ê³„ì—´
  ë””ë²„í”„_ê³µê²©: {
    id: 'ë””ë²„í”„_ê³µê²©',
    name: 'ì•½í™”ì˜ ì €ì£¼',
    correct: 'íšŒí”¼',
    dmgMult: 1.2,
    debuffAtk: 0.3,
    debuffDuration: 3,
    telegraph: {
      0: 'ì €ì£¼ë¥¼ ë‚´ë¦°ë‹¤',
      1: 'í˜ì´ ë¹ ì ¸ë‚˜ê°„ë‹¤',
      2: 'ì•½í™”ì˜ ì €ì£¼! 3í„´ê°„ ê³µê²©ë ¥ -30%',
      3: 'í˜ì´ ì‚¬ë¼ì§„ë‹¤!',
      4: 'âš ï¸ ì•½í™”ì˜ ì €ì£¼! íšŒí”¼! ê³µê²©ë ¥ -30%!'
    }
  },
  
  ë””ë²„í”„_ë°©ì–´: {
    id: 'ë””ë²„í”„_ë°©ì–´',
    name: 'ê°‘ì˜· ë¶€ì‹',
    correct: 'íšŒí”¼',
    dmgMult: 1.3,
    debuffDef: 0.4,
    debuffDuration: 3,
    telegraph: {
      0: 'ë¶€ì‹ì„± ì•¡ì²´ë¥¼ ë¿Œë¦°ë‹¤',
      1: 'ê°‘ì˜·ì´ ë…¹ì•„ë‚´ë¦°ë‹¤',
      2: 'ê°‘ì˜· ë¶€ì‹! 3í„´ê°„ ë°©ì–´ë ¥ -40%',
      3: 'ë°©ì–´êµ¬ê°€ ë¬´ë ¥í™”ëœë‹¤!',
      4: 'âš ï¸ ê°‘ì˜· ë¶€ì‹! íšŒí”¼! ë°©ì–´ë ¥ -40%!'
    }
  },
  
  // íŠ¹ìˆ˜ ê³µê²©
  ë°©ë¬´: {
    id: 'ë°©ë¬´',
    name: 'ê´€í†µ',
    correct: 'íšŒí”¼',
    dmgMult: 2.0,
    defBreak: 1.0,
    telegraph: {
      0: 'ì˜ˆë¦¬í•œ ì¼ê²©ì„ ì¤€ë¹„í•œë‹¤',
      1: 'ì™„ë²½í•œ íƒ€ì ì„ ë…¸ë¦°ë‹¤',
      2: 'ê´€í†µ! ë°©ì–´ë ¥ 100% ë¬´ì‹œ',
      3: 'ì™„ë²½í•œ ê´€í†µ ì¼ê²©!',
      4: 'âš ï¸ ê´€í†µ! íšŒí”¼ í•„ìˆ˜! ë°©ì–´ ë¬´ìš©!'
    }
  },
  
  íšŒë³µ: {
    id: 'íšŒë³µ',
    name: 'ì¬ìƒ',
    correct: 'ì—­ìŠµ',
    dmgMult: 0.0,
    healPercent: 0.3,
    telegraph: {
      0: 'ìƒì²˜ê°€ ì•„ë¬¸ë‹¤',
      1: 'ì¬ìƒ ëŠ¥ë ¥ ë°œë™',
      2: 'ì¬ìƒ! HP 30% íšŒë³µ',
      3: 'ë¹ ë¥¸ íšŒë³µ! ëŒ€ëŸ‰ HP íšŒë³µ!',
      4: 'âš ï¸ ì¬ìƒ! ì—­ìŠµìœ¼ë¡œ ì¤‘ë‹¨! HP 30% íšŒë³µ!'
    }
  },
  
  ê´‘ì—­: {
    id: 'ê´‘ì—­',
    name: 'ê´‘ì—­ ê³µê²©',
    correct: 'ë°©ì–´',
    dmgMult: 1.5,
    cannotEvade: true,
    telegraph: {
      0: 'í° ê³µê²©ì„ ì¤€ë¹„í•œë‹¤',
      1: 'ë²”ìœ„ ê³µê²© ì¤€ë¹„',
      2: 'ê´‘ì—­ ê³µê²©! íšŒí”¼ ë¶ˆê°€',
      3: 'ì „ë°©ìœ„ ê³µê²©! ë§‰ëŠ” ìˆ˜ë°–ì—!',
      4: 'âš ï¸ ê´‘ì—­ ê³µê²©! íšŒí”¼ ë¶ˆê°€! ë°©ì–´ í•„ìˆ˜!'
    }
  },
  
  ì €ì£¼: {
    id: 'ì €ì£¼',
    name: 'ì €ì£¼ ë¶€ì—¬',
    correct: 'ì—­ìŠµ',
    dmgMult: 0.5,
    curse: { type: 'random', count: 1, chance: 0.8 },
    telegraph: {
      0: 'ì €ì£¼ë¥¼ ì‹œì „í•œë‹¤',
      1: 'ë¶ˆê¸¸í•œ ê¸°ìš´ì´ ëª¨ì¸ë‹¤',
      2: 'ì €ì£¼ ë¶€ì—¬! 80% ì €ì£¼',
      3: 'ê°•ë ¥í•œ ì €ì£¼!',
      4: 'âš ï¸ ì €ì£¼ ë¶€ì—¬! ì—­ìŠµìœ¼ë¡œ ëŠì–´ì•¼! 80% ì €ì£¼!'
    }
  }
};

// ============================================
// ë³´ìŠ¤ ë°ì´í„° (10ì¢…)
// ============================================
const BOSSES = {
  // ============================================
  // 10ì¸µ: ê´‘í­ ëŠ‘ëŒ€ì™• (ì…ë¬¸)
  // ============================================
  10: {
    id: 'wolf_king',
    name: 'ê´‘í­ ëŠ‘ëŒ€ì™•',
    floor: 10,
    type: 'beast',
    baseHp: 600,
    baseAtk: 65,
    baseDef: 18,
    baseExp: 350,
    baseGold: 250,
    spd: 12,
    desc: 'ëŠ‘ëŒ€ ë¬´ë¦¬ì˜ ìš°ë‘ë¨¸ë¦¬, ê´‘í­í•œ í˜',
    firstKillReward: { grade: 3, guaranteed: true }, // Rare
    
    phases: [
      {
        phase: 1,
        name: 'í‰ì˜¨',
        hpRange: [0.5, 1.0],
        patterns: [
          { ...UNIVERSAL_PATTERNS.ëŒì§„, weight: 40 },
          { ...UNIVERSAL_PATTERNS.ë¹ ë¥¸_ì—°íƒ€, weight: 30 },
          { ...UNIVERSAL_PATTERNS.ì§‘ì¤‘, weight: 30 }
        ]
      },
      {
        phase: 2,
        name: 'ê´‘í­',
        hpRange: [0.0, 0.5],
        patterns: [
          { ...UNIVERSAL_PATTERNS.ëŒì§„, weight: 30 },
          { ...UNIVERSAL_PATTERNS.ë¹ ë¥¸_ì—°íƒ€, weight: 30 },
          { ...BOSS_ABILITIES.ë²„í”„_ê³µê²©, weight: 40 }
        ],
        phaseStartAbility: {
          id: 'phase2_start',
          effect: { buffAtk: 0.3, permanent: true },
          message: 'ğŸ”¥ ê´‘í­ ëŠ‘ëŒ€ì™•ì´ ê´‘í­í™”í•œë‹¤! ì˜êµ¬ ê³µê²©ë ¥ +30%'
        }
      }
    ]
  },
  
  // ============================================
  // 20ì¸µ: í•´ê³¨ êµ°ì£¼ (ì–¸ë°ë“œ êµ°ë‹¨)
  // ============================================
  20: {
    id: 'skeleton_lord',
    name: 'í•´ê³¨ êµ°ì£¼',
    floor: 20,
    type: 'undead',
    baseHp: 1000,
    baseAtk: 85,
    baseDef: 30,
    baseExp: 600,
    baseGold: 400,
    spd: 7,
    desc: 'ì£½ì§€ ì•ŠëŠ” êµ°ì£¼, ì–¸ë°ë“œ êµ°ë‹¨ì˜ ì§€íœ˜ì',
    firstKillReward: { grade: 3, guaranteed: true },
    
    phases: [
      {
        phase: 1,
        name: 'ì¹¨ì°©',
        hpRange: [0.6, 1.0],
        patterns: [
          { ...UNIVERSAL_PATTERNS.ê°•íƒ€, weight: 40 },
          { ...UNIVERSAL_PATTERNS.ë°©ì–´_íƒœì„¸, weight: 30 },
          {
            id: 'ì£½ìŒì˜_ì¼ê²©',
            name: 'ì£½ìŒì˜ ì¼ê²©',
            correct: 'ë°©ì–´',
            dmgMult: 2.0,
            telegraph: {
              0: 'ê²€ì´ ê²€ê²Œ ë¬¼ë“ ë‹¤',
              1: 'ì£½ìŒì˜ ê¸°ìš´ì´ ë‹´ê¸´ë‹¤',
              2: 'ì£½ìŒì˜ ì¼ê²©! ê°•ë ¥í•œ ê³µê²©',
              3: 'ì£½ìŒì„ ê°€ë¥´ëŠ” ë² ê¸°!',
              4: 'âš ï¸ ì£½ìŒì˜ ì¼ê²©! ë°©ì–´ í•„ìˆ˜!'
            },
            weight: 30
          }
        ]
      },
      {
        phase: 2,
        name: 'ë¶„ë…¸',
        hpRange: [0.3, 0.6],
        patterns: [
          { ...UNIVERSAL_PATTERNS.ê°•íƒ€, weight: 30 },
          {
            id: 'ì£½ìŒì˜_ì¼ê²©',
            name: 'ì£½ìŒì˜ ì¼ê²©',
            correct: 'ë°©ì–´',
            dmgMult: 2.2,
            telegraph: {
              0: 'ê²€ì´ ê²€ê²Œ ë¬¼ë“ ë‹¤',
              1: 'ì£½ìŒì˜ ê¸°ìš´ì´ ë‹´ê¸´ë‹¤',
              2: 'ì£½ìŒì˜ ì¼ê²©! ê°•ë ¥í•œ ê³µê²©',
              3: 'ì£½ìŒì„ ê°€ë¥´ëŠ” ë² ê¸°!',
              4: 'âš ï¸ ì£½ìŒì˜ ì¼ê²©! ë°©ì–´ í•„ìˆ˜!'
            },
            weight: 35
          },
          { ...BOSS_ABILITIES.ë²„í”„_ë°©ì–´, weight: 35 }
        ]
      },
      {
        phase: 3,
        name: 'ë¶ˆì‚¬',
        hpRange: [0.0, 0.3],
        patterns: [
          {
            id: 'ì£½ìŒì˜_ì¼ê²©',
            name: 'ì£½ìŒì˜ ì¼ê²©',
            correct: 'ë°©ì–´',
            dmgMult: 2.5,
            telegraph: {
              0: 'ê²€ì´ ê²€ê²Œ ë¬¼ë“ ë‹¤',
              1: 'ì£½ìŒì˜ ê¸°ìš´ì´ ë‹´ê¸´ë‹¤',
              2: 'ì£½ìŒì˜ ì¼ê²©! ê°•ë ¥í•œ ê³µê²©',
              3: 'ì£½ìŒì„ ê°€ë¥´ëŠ” ë² ê¸°!',
              4: 'âš ï¸ ì£½ìŒì˜ ì¼ê²©! ë°©ì–´ í•„ìˆ˜!'
            },
            weight: 40
          },
          { ...BOSS_ABILITIES.íšŒë³µ, weight: 30 },
          { ...BOSS_ABILITIES.ì €ì£¼, weight: 30 }
        ],
        phaseStartAbility: {
          id: 'phase3_start',
          effect: { healPercent: 0.2 },
          message: 'ğŸ’€ í•´ê³¨ êµ°ì£¼ê°€ ë¶ˆì‚¬ì˜ í˜ìœ¼ë¡œ HP 20% íšŒë³µ!'
        }
      }
    ]
  },
  
  // ============================================
  // 30ì¸µ: ì•…ë§ˆ ê³µì‘ (ë§ˆì¡±ì˜ í˜)
  // ============================================
  30: {
    id: 'demon_duke',
    name: 'ì•…ë§ˆ ê³µì‘',
    floor: 30,
    type: 'demon',
    baseHp: 1600,
    baseAtk: 110,
    baseDef: 38,
    baseExp: 1000,
    baseGold: 700,
    spd: 9,
    desc: 'ì§€ì˜¥ì˜ ê·€ì¡±, ê°•ë ¥í•œ ë§ˆë²•ê³¼ ê²€ìˆ ',
    firstKillReward: { grade: 3, guaranteed: true },
    
    phases: [
      {
        phase: 1,
        name: 'ì—¬ìœ ',
        hpRange: [0.6, 1.0],
        patterns: [
          { ...UNIVERSAL_PATTERNS.ê°•íƒ€, weight: 30 },
          { ...UNIVERSAL_PATTERNS.íšŒì „_ë² ê¸°, weight: 30 },
          {
            id: 'ì§€ì˜¥ë¶ˆ',
            name: 'ì§€ì˜¥ë¶ˆ',
            correct: 'íšŒí”¼',
            dmgMult: 1.6,
            dot: { type: 'burn', duration: 3, dmgPerTurn: 0.15 },
            telegraph: {
              0: 'ì§€ì˜¥ë¶ˆì„ ì†Œí™˜í•œë‹¤',
              1: 'ë¶ˆê½ƒì´ ëª¨ì¸ë‹¤',
              2: 'ì§€ì˜¥ë¶ˆ! 3í„´ í™”ìƒ',
              3: 'ì§€ì˜¥ì˜ í™”ì—¼!',
              4: 'âš ï¸ ì§€ì˜¥ë¶ˆ! íšŒí”¼! 3í„´ í™”ìƒ!'
            },
            weight: 40
          }
        ]
      },
      {
        phase: 2,
        name: 'ì§„ì§€',
        hpRange: [0.3, 0.6],
        patterns: [
          { ...UNIVERSAL_PATTERNS.íšŒì „_ë² ê¸°, weight: 25 },
          {
            id: 'ì§€ì˜¥ë¶ˆ',
            name: 'ì§€ì˜¥ë¶ˆ',
            correct: 'íšŒí”¼',
            dmgMult: 1.8,
            dot: { type: 'burn', duration: 4, dmgPerTurn: 0.2 },
            telegraph: {
              0: 'ì§€ì˜¥ë¶ˆì„ ì†Œí™˜í•œë‹¤',
              1: 'ë¶ˆê½ƒì´ ëª¨ì¸ë‹¤',
              2: 'ì§€ì˜¥ë¶ˆ! 4í„´ í™”ìƒ',
              3: 'ì§€ì˜¥ì˜ í™”ì—¼!',
              4: 'âš ï¸ ì§€ì˜¥ë¶ˆ! íšŒí”¼! 4í„´ í™”ìƒ!'
            },
            weight: 35
          },
          { ...BOSS_ABILITIES.ë²„í”„_ê³µê²©, weight: 40 }
        ]
      },
      {
        phase: 3,
        name: 'ê²©ë…¸',
        hpRange: [0.0, 0.3],
        patterns: [
          {
            id: 'ì§€ì˜¥_í­ë°œ',
            name: 'ì§€ì˜¥ í­ë°œ',
            correct: 'ë°©ì–´',
            dmgMult: 2.4,
            dot: { type: 'burn', duration: 5, dmgPerTurn: 0.25 },
            telegraph: {
              0: 'ê±°ëŒ€í•œ ë¶ˆê½ƒì´ ëª¨ì¸ë‹¤',
              1: 'ì§€ì˜¥ì˜ í˜ì´ ì‘ì¶•ëœë‹¤',
              2: 'ì§€ì˜¥ í­ë°œ! 5í„´ ì‹¬ê°í•œ í™”ìƒ',
              3: 'ì§€ì˜¥ì´ í­ë°œí•œë‹¤!',
              4: 'âš ï¸ ì§€ì˜¥ í­ë°œ! ë°©ì–´! 5í„´ ê°•ë ¥í•œ í™”ìƒ!'
            },
            weight: 40
          },
          { ...BOSS_ABILITIES.ê´‘ì—­, weight: 30 },
          { ...BOSS_ABILITIES.ë²„í”„_ê³µê²©, weight: 30 }
        ],
        phaseStartAbility: {
          id: 'phase3_start',
          effect: { buffAtk: 0.5, buffSpd: 5, permanent: true },
          message: 'ğŸ˜ˆ ì•…ë§ˆ ê³µì‘ì´ ì§„ì •í•œ í˜ì„ í•´ë°©í•œë‹¤! ì˜êµ¬ ê³µê²©ë ¥ +50%, ì†ë„ +5'
        }
      }
    ]
  },
  
  // ============================================
  // 40ì¸µ: í­í’ì˜ ì •ë ¹ì™• (ì›ì†Œì˜ ì§€ë°°ì)
  // ============================================
  40: {
    id: 'storm_king',
    name: 'í­í’ì˜ ì •ë ¹ì™•',
    floor: 40,
    type: 'spirit',
    baseHp: 2400,
    baseAtk: 135,
    baseDef: 45,
    baseExp: 1600,
    baseGold: 1100,
    spd: 11,
    desc: 'í­í’ì„ ì§€ë°°í•˜ëŠ” ì •ë ¹ì™•',
    firstKillReward: { grade: 4, guaranteed: true }, // Heroic
    
    phases: [
      {
        phase: 1,
        name: 'ë°”ëŒ',
        hpRange: [0.7, 1.0],
        patterns: [
          { ...UNIVERSAL_PATTERNS.ë¹ ë¥¸_ì—°íƒ€, weight: 35 },
          {
            id: 'ëŒí’',
            name: 'ëŒí’',
            correct: 'ë°©ì–´',
            dmgMult: 1.6,
            pushback: true,
            telegraph: {
              0: 'ë°”ëŒì´ ê°•í•´ì§„ë‹¤',
              1: 'ëŒí’ì´ ë¶„ë‹¤',
              2: 'ëŒí’! ë°€ë ¤ë‚¨',
              3: 'ê°•ë ¥í•œ ë°”ëŒ!',
              4: 'âš ï¸ ëŒí’! ë°©ì–´ë¡œ ë²„í…¨ì•¼!'
            },
            weight: 35
          },
          { ...UNIVERSAL_PATTERNS.ì§‘ì¤‘, weight: 30 }
        ]
      },
      {
        phase: 2,
        name: 'ë²ˆê°œ',
        hpRange: [0.4, 0.7],
        patterns: [
          {
            id: 'ë‚™ë¢°',
            name: 'ë‚™ë¢°',
            correct: 'íšŒí”¼',
            dmgMult: 2.0,
            stunChance: 0.3,
            telegraph: {
              0: 'ë²ˆê°œê°€ ëª¨ì¸ë‹¤',
              1: 'í•˜ëŠ˜ì—ì„œ ë²ˆê°œê°€ ë‚´ë¦°ë‹¤',
              2: 'ë‚™ë¢°! 30% ê¸°ì ˆ',
              3: 'ë²ˆê°œê°€ ë–¨ì–´ì§„ë‹¤!',
              4: 'âš ï¸ ë‚™ë¢°! íšŒí”¼! 30% ê¸°ì ˆ!'
            },
            weight: 40
          },
          { ...UNIVERSAL_PATTERNS.ë¹ ë¥¸_ì—°íƒ€, weight: 30 },
          { ...BOSS_ABILITIES.ë²„í”„_ì†ë„, weight: 30 }
        ],
        phaseStartAbility: {
          id: 'phase2_start',
          effect: { buffSpd: 3, permanent: true },
          message: 'âš¡ í­í’ì˜ ì •ë ¹ì™•ì´ ë²ˆê°œì˜ ì†ë„ë¥¼ ì–»ëŠ”ë‹¤! ì˜êµ¬ ì†ë„ +3'
        }
      },
      {
        phase: 3,
        name: 'í­í’',
        hpRange: [0.0, 0.4],
        patterns: [
          {
            id: 'í­í’_ì†Œí™˜',
            name: 'í­í’ ì†Œí™˜',
            correct: 'ë°©ì–´',
            dmgMult: 2.5,
            hitCount: 3,
            telegraph: {
              0: 'í­í’ì´ ì¼ì–´ë‚œë‹¤',
              1: 'ê±°ëŒ€í•œ í­í’ì´ ëª°ì•„ì¹œë‹¤',
              2: 'í­í’ ì†Œí™˜! 3íšŒ ì—°ì† ê³µê²©',
              3: 'ì™„ë²½í•œ í­í’!',
              4: 'âš ï¸ í­í’ ì†Œí™˜! ë°©ì–´! 3íšŒ ê³µê²©!'
            },
            weight: 40
          },
          {
            id: 'ë‚™ë¢°',
            name: 'ë‚™ë¢°',
            correct: 'íšŒí”¼',
            dmgMult: 2.2,
            stunChance: 0.4,
            telegraph: {
              0: 'ë²ˆê°œê°€ ëª¨ì¸ë‹¤',
              1: 'í•˜ëŠ˜ì—ì„œ ë²ˆê°œê°€ ë‚´ë¦°ë‹¤',
              2: 'ë‚™ë¢°! 40% ê¸°ì ˆ',
              3: 'ë²ˆê°œê°€ ë–¨ì–´ì§„ë‹¤!',
              4: 'âš ï¸ ë‚™ë¢°! íšŒí”¼! 40% ê¸°ì ˆ!'
            },
            weight: 30
          },
          { ...BOSS_ABILITIES.ê´‘ì—­, weight: 30 }
        ],
        phaseStartAbility: {
          id: 'phase3_start',
          effect: { buffAtk: 0.3, buffSpd: 3, permanent: true },
          message: 'ğŸŒªï¸ í­í’ì˜ ì •ë ¹ì™•ì´ ì™„ì „í•œ í­í’ì„ ë¶€ë¥¸ë‹¤! ì˜êµ¬ ê³µê²©ë ¥ +30%, ì†ë„ +3'
        }
      }
    ]
  },
  
  // ============================================
  // 50ì¸µ: í‘ë£¡ (ë“œë˜ê³¤ì˜ ê³µí¬)
  // ============================================
  50: {
    id: 'black_dragon',
    name: 'í‘ë£¡',
    floor: 50,
    type: 'dragon',
    baseHp: 3800,
    baseAtk: 180,
    baseDef: 65,
    baseExp: 4500,
    baseGold: 3000,
    spd: 8,
    desc: 'ì–´ë‘ ì˜ ìš©, ì ˆëŒ€ì ì¸ í˜',
    firstKillReward: { grade: 4, guaranteed: true },
    
    phases: [
      {
        phase: 1,
        name: 'ìœ„ì••',
        hpRange: [0.7, 1.0],
        patterns: [
          { ...UNIVERSAL_PATTERNS.ê°•íƒ€, weight: 30 },
          {
            id: 'ê¼¬ë¦¬_íœ˜ë‘ë¥´ê¸°',
            name: 'ê¼¬ë¦¬ íœ˜ë‘ë¥´ê¸°',
            correct: 'íšŒí”¼',
            dmgMult: 1.8,
            telegraph: {
              0: 'ê¼¬ë¦¬ê°€ ì›€ì§ì¸ë‹¤',
              1: 'ê±°ëŒ€í•œ ê¼¬ë¦¬ê°€ ë‚ ì•„ì˜¨ë‹¤',
              2: 'ê¼¬ë¦¬ íœ˜ë‘ë¥´ê¸°! ê°•ë ¥í•œ íƒ€ê²©',
              3: 'ê¼¬ë¦¬ê°€ íœ˜ë‘˜ëŸ¬ì§„ë‹¤!',
              4: 'âš ï¸ ê¼¬ë¦¬ íœ˜ë‘ë¥´ê¸°! íšŒí”¼!'
            },
            weight: 35
          },
          { ...UNIVERSAL_PATTERNS.ì§‘ì¤‘, weight: 35 }
        ]
      },
      {
        phase: 2,
        name: 'ë¶„ë…¸',
        hpRange: [0.4, 0.7],
        patterns: [
          {
            id: 'ì•”í‘_ë¸Œë ˆìŠ¤',
            name: 'ì•”í‘ ë¸Œë ˆìŠ¤',
            correct: 'ë°©ì–´',
            dmgMult: 2.2,
            defBreak: 0.4,
            telegraph: {
              0: 'ì…ì—ì„œ ì–´ë‘ ì´ ëª¨ì¸ë‹¤',
              1: 'ì•”í‘ ì—ë„ˆì§€ê°€ ì‘ì¶•ëœë‹¤',
              2: 'ì•”í‘ ë¸Œë ˆìŠ¤! ë°©ì–´ 40% ê´€í†µ',
              3: 'ì–´ë‘ ì„ ë¿œì–´ë‚¸ë‹¤!',
              4: 'âš ï¸ ì•”í‘ ë¸Œë ˆìŠ¤! ë°©ì–´! 40% ê´€í†µ!'
            },
            weight: 40
          },
          { ...UNIVERSAL_PATTERNS.ëŒ€ì§€_ê°•íƒ€, weight: 30 },
          { ...BOSS_ABILITIES.ë²„í”„_ê³µê²©, weight: 30 }
        ],
        phaseStartAbility: {
          id: 'phase2_start',
          effect: { buffAtk: 0.3, permanent: true },
          message: 'ğŸ‰ í‘ë£¡ì´ ë¶„ë…¸í•œë‹¤! ì˜êµ¬ ê³µê²©ë ¥ +30%'
        }
      },
      {
        phase: 3,
        name: 'íŒŒë©¸',
        hpRange: [0.0, 0.4],
        patterns: [
          {
            id: 'íŒŒë©¸ì˜_ë¸Œë ˆìŠ¤',
            name: 'íŒŒë©¸ì˜ ë¸Œë ˆìŠ¤',
            correct: 'ë°©ì–´',
            dmgMult: 3.0,
            defBreak: 0.6,
            dot: { type: 'burn', duration: 5, dmgPerTurn: 0.3 },
            telegraph: {
              0: 'ê±°ëŒ€í•œ ì–´ë‘ ì´ ëª¨ì¸ë‹¤',
              1: 'íŒŒë©¸ì ì¸ í˜ì´ ì‘ì¶•ëœë‹¤',
              2: 'íŒŒë©¸ì˜ ë¸Œë ˆìŠ¤! ë°©ì–´ 60% ê´€í†µ, 5í„´ ê·¹ì‹¬í•œ í™”ìƒ',
              3: 'íŒŒë©¸ì„ ë¿œì–´ë‚¸ë‹¤!',
              4: 'âš ï¸ íŒŒë©¸ì˜ ë¸Œë ˆìŠ¤! ìµœëŒ€ ë°©ì–´! 60% ê´€í†µ, 5í„´ í™”ìƒ!'
            },
            weight: 40
          },
          { ...BOSS_ABILITIES.ê´‘ì—­, weight: 30 },
          { ...BOSS_ABILITIES.íšŒë³µ, weight: 30 }
        ],
        phaseStartAbility: {
          id: 'phase3_start',
          effect: { buffAtk: 0.5, defBonus: 0.3, permanent: true },
          message: 'â˜ ï¸ í‘ë£¡ì´ ì§„ì •í•œ í˜ì„ í•´ë°©í•œë‹¤! ì˜êµ¬ ê³µê²©ë ¥ +50%, ë°©ì–´ë ¥ +30%'
        }
      }
    ]
  },
  
  // ============================================
  // 60ì¸µ: ì‹¬ì—°ì˜ êµ°ì£¼ (ì‹¬ì—°ì˜ í˜)
  // ============================================
  60: {
    id: 'abyss_lord',
    name: 'ì‹¬ì—°ì˜ êµ°ì£¼',
    floor: 60,
    type: 'demon',
    baseHp: 5500,
    baseAtk: 240,
    baseDef: 85,
    baseExp: 7000,
    baseGold: 5000,
    spd: 10,
    desc: 'ì‹¬ì—°ì„ ì§€ë°°í•˜ëŠ” êµ°ì£¼',
    firstKillReward: { grade: 4, guaranteed: true },
    
    phases: [
      {
        phase: 1,
        name: 'íƒìƒ‰',
        hpRange: [0.7, 1.0],
        patterns: [
          {
            id: 'ì´‰ìˆ˜_ê³µê²©',
            name: 'ì´‰ìˆ˜ ê³µê²©',
            correct: 'íšŒí”¼',
            dmgMult: 1.6,
            telegraph: {
              0: 'ì´‰ìˆ˜ê°€ ë»—ì–´ë‚˜ì˜¨ë‹¤',
              1: 'ì—¬ëŸ¬ ì´‰ìˆ˜ê°€ ê³µê²©í•œë‹¤',
              2: 'ì´‰ìˆ˜ ê³µê²©! ë¹ ë¥¸ ê³µê²©',
              3: 'ì´‰ìˆ˜ê°€ ë‚ ì•„ì˜¨ë‹¤!',
              4: 'âš ï¸ ì´‰ìˆ˜ ê³µê²©! íšŒí”¼!'
            },
            weight: 40
          },
          { ...UNIVERSAL_PATTERNS.ê°•íƒ€, weight: 30 },
          { ...BOSS_ABILITIES.ë””ë²„í”„_ë°©ì–´, weight: 30 }
        ]
      },
      {
        phase: 2,
        name: 'ì¹¨ì‹',
        hpRange: [0.4, 0.7],
        patterns: [
          {
            id: 'ì •ì‹ _ì¹¨ì‹',
            name: 'ì •ì‹  ì¹¨ì‹',
            correct: 'ë°©ì–´',
            dmgMult: 1.8,
            madnessGain: 20,
            telegraph: {
              0: 'ì´ìƒí•œ ëª©ì†Œë¦¬ê°€ ë“¤ë¦°ë‹¤',
              1: 'ì •ì‹ ì´ í˜¼ë¯¸í•´ì§„ë‹¤',
              2: 'ì •ì‹  ì¹¨ì‹! ê´‘ê¸° +20',
              3: 'ì‹¬ì—°ì´ ì†ì‚­ì¸ë‹¤!',
              4: 'âš ï¸ ì •ì‹  ì¹¨ì‹! ë°©ì–´! ê´‘ê¸° +20!'
            },
            weight: 40
          },
          {
            id: 'ì´‰ìˆ˜_íœ˜ê°ê¸°',
            name: 'ì´‰ìˆ˜ íœ˜ê°ê¸°',
            correct: 'íšŒí”¼',
            dmgMult: 1.5,
            bindDuration: 2,
            telegraph: {
              0: 'ì´‰ìˆ˜ê°€ íœ˜ê°ëŠ”ë‹¤',
              1: 'ì—¬ëŸ¬ ì´‰ìˆ˜ê°€ ê°ì•„ì˜¨ë‹¤',
              2: 'ì´‰ìˆ˜ íœ˜ê°ê¸°! 2í„´ êµ¬ì†',
              3: 'ì´‰ìˆ˜ì— ê°ê¸´ë‹¤!',
              4: 'âš ï¸ ì´‰ìˆ˜ íœ˜ê°ê¸°! íšŒí”¼! 2í„´ êµ¬ì†!'
            },
            weight: 30
          },
          { ...BOSS_ABILITIES.ì €ì£¼, weight: 30 }
        ],
        phaseStartAbility: {
          id: 'phase2_start',
          effect: { buffAtk: 0.3, permanent: true },
          message: 'ğŸ¦‘ ì‹¬ì—°ì˜ êµ°ì£¼ê°€ ë³¸ê²©ì ìœ¼ë¡œ ì¹¨ì‹í•œë‹¤! ì˜êµ¬ ê³µê²©ë ¥ +30%'
        }
      },
      {
        phase: 3,
        name: 'ì§€ë°°',
        hpRange: [0.0, 0.4],
        patterns: [
          {
            id: 'ì‹¬ì—°_í­ë°œ',
            name: 'ì‹¬ì—° í­ë°œ',
            correct: 'ë°©ì–´',
            dmgMult: 2.8,
            madnessGain: 30,
            telegraph: {
              0: 'ì‹¬ì—°ì´ ìš”ë™ì¹œë‹¤',
              1: 'ê±°ëŒ€í•œ ì–´ë‘ ì´ í­ë°œí•œë‹¤',
              2: 'ì‹¬ì—° í­ë°œ! ê´‘ê¸° +30',
              3: 'ì‹¬ì—°ì´ í„°ì§„ë‹¤!',
              4: 'âš ï¸ ì‹¬ì—° í­ë°œ! ë°©ì–´! ê´‘ê¸° +30!'
            },
            weight: 40
          },
          { ...BOSS_ABILITIES.íšŒë³µ, weight: 30 },
          { ...BOSS_ABILITIES.ê´‘ì—­, weight: 30 }
        ],
        phaseStartAbility: {
          id: 'phase3_start',
          effect: { buffAtk: 0.5, buffSpd: 5, permanent: true },
          message: 'ğŸŒ‘ ì‹¬ì—°ì˜ êµ°ì£¼ê°€ ì™„ì „í•œ ì§€ë°°ë ¥ì„ ë°œíœ˜í•œë‹¤! ì˜êµ¬ ê³µê²©ë ¥ +50%, ì†ë„ +5'
        }
      }
    ]
  },
  
  // ============================================
  // 70ì¸µ: íƒ€ë½í•œ ì²œì‚¬ì¥ (ì‹ ì„±ì˜ íƒ€ë½)
  // ============================================
  70: {
    id: 'fallen_archangel',
    name: 'íƒ€ë½í•œ ì²œì‚¬ì¥',
    floor: 70,
    type: 'spirit',
    baseHp: 7500,
    baseAtk: 310,
    baseDef: 110,
    baseExp: 10000,
    baseGold: 8000,
    spd: 12,
    desc: 'íƒ€ë½í•œ ì²œì‚¬ì˜ ìˆ˜ì¥, ì™œê³¡ëœ ì‹ ì„±',
    firstKillReward: { grade: 5, guaranteed: true }, // Legendary
    
    phases: [
      {
        phase: 1,
        name: 'íšŒí•œ',
        hpRange: [0.7, 1.0],
        patterns: [
          { ...UNIVERSAL_PATTERNS.ë¹ ë¥¸_ì—°íƒ€, weight: 30 },
          {
            id: 'ì‹ ì„±í•œ_ê²€',
            name: 'ì‹ ì„±í•œ ê²€',
            correct: 'ë°©ì–´',
            dmgMult: 2.0,
            telegraph: {
              0: 'ë¹›ë‚˜ëŠ” ê²€ì„ íœ˜ë‘ë¥¸ë‹¤',
              1: 'ì‹ ì„±í•œ ë¹›ì´ ë‹´ê¸´ë‹¤',
              2: 'ì‹ ì„±í•œ ê²€! ê°•ë ¥í•œ ì¼ê²©',
              3: 'ë¹›ì˜ ê²€ê²©!',
              4: 'âš ï¸ ì‹ ì„±í•œ ê²€! ë°©ì–´!'
            },
            weight: 35
          },
          { ...UNIVERSAL_PATTERNS.ì§‘ì¤‘, weight: 35 }
        ]
      },
      {
        phase: 2,
        name: 'ë¶„ë…¸',
        hpRange: [0.4, 0.7],
        patterns: [
          {
            id: 'íƒ€ë½ì˜_ë¹›',
            name: 'íƒ€ë½ì˜ ë¹›',
            correct: 'ë°©ì–´',
            dmgMult: 2.4,
            defBreak: 0.5,
            telegraph: {
              0: 'ì™œê³¡ëœ ë¹›ì´ ëª¨ì¸ë‹¤',
              1: 'íƒ€ë½í•œ ì‹ ì„±ì´ ë¹›ë‚œë‹¤',
              2: 'íƒ€ë½ì˜ ë¹›! ë°©ì–´ 50% ê´€í†µ',
              3: 'ì™œê³¡ëœ ë¹›ì´ ìŸì•„ì§„ë‹¤!',
              4: 'âš ï¸ íƒ€ë½ì˜ ë¹›! ë°©ì–´! 50% ê´€í†µ!'
            },
            weight: 40
          },
          { ...BOSS_ABILITIES.ë²„í”„_ê³µê²©, weight: 30 },
          { ...BOSS_ABILITIES.ë””ë²„í”„_ê³µê²©, weight: 30 }
        ],
        phaseStartAbility: {
          id: 'phase2_start',
          effect: { buffAtk: 0.4, buffSpd: 3, permanent: true },
          message: 'ğŸ˜‡ íƒ€ë½í•œ ì²œì‚¬ì¥ì´ ë¶„ë…¸í•œë‹¤! ì˜êµ¬ ê³µê²©ë ¥ +40%, ì†ë„ +3'
        }
      },
      {
        phase: 3,
        name: 'íƒ€ë½',
        hpRange: [0.0, 0.4],
        patterns: [
          {
            id: 'ì‹¬íŒì˜_ì™œê³¡',
            name: 'ì‹¬íŒì˜ ì™œê³¡',
            correct: 'íšŒí”¼',
            dmgMult: 3.2,
            defBreak: 0.8,
            telegraph: {
              0: 'ê±°ëŒ€í•œ ë¹›ì´ ëª¨ì¸ë‹¤',
              1: 'ì‹¬íŒì´ ì™œê³¡ëœë‹¤',
              2: 'ì‹¬íŒì˜ ì™œê³¡! ë°©ì–´ 80% ê´€í†µ',
              3: 'ì™œê³¡ëœ ì‹¬íŒ!',
              4: 'âš ï¸ ì‹¬íŒì˜ ì™œê³¡! íšŒí”¼! 80% ê´€í†µ!'
            },
            weight: 40
          },
          { ...BOSS_ABILITIES.ê´‘ì—­, weight: 30 },
          { ...BOSS_ABILITIES.íšŒë³µ, weight: 30 }
        ],
        phaseStartAbility: {
          id: 'phase3_start',
          effect: { buffAtk: 0.6, defBonus: 0.4, buffSpd: 5, permanent: true },
          message: 'ğŸ‘¿ íƒ€ë½í•œ ì²œì‚¬ì¥ì´ ì™„ì „íˆ íƒ€ë½í•œë‹¤! ì˜êµ¬ ê³µê²©ë ¥ +60%, ë°©ì–´ë ¥ +40%, ì†ë„ +5'
        }
      }
    ]
  },
  
  // ============================================
  // 80ì¸µ: ì‹œê°„ì˜ ìˆ˜í˜¸ì (ì‹œê°„ ì§€ë°°)
  // ============================================
  80: {
    id: 'time_guardian',
    name: 'ì‹œê°„ì˜ ìˆ˜í˜¸ì',
    floor: 80,
    type: 'construct',
    baseHp: 10000,
    baseAtk: 380,
    baseDef: 150,
    baseExp: 13000,
    baseGold: 12000,
    spd: 9,
    desc: 'ì‹œê°„ì„ ì§€í‚¤ëŠ” ì¡´ì¬',
    firstKillReward: { grade: 5, guaranteed: true },
    
    phases: [
      {
        phase: 1,
        name: 'ê³¼ê±°',
        hpRange: [0.7, 1.0],
        patterns: [
          { ...UNIVERSAL_PATTERNS.ê°•íƒ€, weight: 35 },
          {
            id: 'ì‹œê°„_ê°ì†',
            name: 'ì‹œê°„ ê°ì†',
            correct: 'ì—­ìŠµ',
            dmgMult: 0.5,
            debuffSpd: 5,
            debuffDuration: 3,
            telegraph: {
              0: 'ì‹œê°„ì´ ëŠë ¤ì§„ë‹¤',
              1: 'ì›€ì§ì„ì´ ë‘”í•´ì§„ë‹¤',
              2: 'ì‹œê°„ ê°ì†! 3í„´ê°„ ì†ë„ -5',
              3: 'ì‹œê°„ì´ ë©ˆì¶˜ ë“¯í•˜ë‹¤!',
              4: 'âš ï¸ ì‹œê°„ ê°ì†! ì—­ìŠµìœ¼ë¡œ ëŠì–´ì•¼! ì†ë„ -5!'
            },
            weight: 35
          },
          { ...UNIVERSAL_PATTERNS.ë°©ì–´_íƒœì„¸, weight: 30 }
        ]
      },
      {
        phase: 2,
        name: 'í˜„ì¬',
        hpRange: [0.4, 0.7],
        patterns: [
          {
            id: 'ì‹œê°„_ì •ì§€',
            name: 'ì‹œê°„ ì •ì§€',
            correct: 'ì—­ìŠµ',
            dmgMult: 0.0,
            skipPlayerTurn: 1,
            telegraph: {
              0: 'ì‹œê°„ì´ ë©ˆì¶˜ë‹¤',
              1: 'ëª¨ë“  ê²ƒì´ ì •ì§€í•œë‹¤',
              2: 'ì‹œê°„ ì •ì§€! ë‹¤ìŒ í„´ í–‰ë™ ë¶ˆê°€',
              3: 'ì‹œê°„ì´ ì™„ì „íˆ ë©ˆì¶˜ë‹¤!',
              4: 'âš ï¸ ì‹œê°„ ì •ì§€! ì—­ìŠµìœ¼ë¡œ ëŠì–´ì•¼! 1í„´ ìƒì‹¤!'
            },
            weight: 40
          },
          {
            id: 'ì‹œê°„_ê°€ì†',
            name: 'ì‹œê°„ ê°€ì†',
            correct: 'ì—­ìŠµ',
            dmgMult: 0.3,
            buffSpd: 10,
            buffDuration: 2,
            telegraph: {
              0: 'ì‹œê°„ì´ ë¹¨ë¼ì§„ë‹¤',
              1: 'ì´ˆê³ ì†ìœ¼ë¡œ ì›€ì§ì¸ë‹¤',
              2: 'ì‹œê°„ ê°€ì†! 2í„´ê°„ ì†ë„ +10',
              3: 'ì‹œê°„ì´ ë¹ ë¥´ê²Œ íë¥¸ë‹¤!',
              4: 'âš ï¸ ì‹œê°„ ê°€ì†! ì—­ìŠµìœ¼ë¡œ ëŠì–´ì•¼! ì†ë„ +10!'
            },
            weight: 30
          },
          { ...BOSS_ABILITIES.íšŒë³µ, weight: 30 }
        ],
        phaseStartAbility: {
          id: 'phase2_start',
          effect: { buffAtk: 0.3, permanent: true },
          message: 'â° ì‹œê°„ì˜ ìˆ˜í˜¸ìê°€ í˜„ì¬ë¥¼ ì§€ë°°í•œë‹¤! ì˜êµ¬ ê³µê²©ë ¥ +30%'
        }
      },
      {
        phase: 3,
        name: 'ë¯¸ë˜',
        hpRange: [0.0, 0.4],
        patterns: [
          {
            id: 'ë¯¸ë˜_ì˜ˆì§€',
            name: 'ë¯¸ë˜ ì˜ˆì§€',
            correct: 'íšŒí”¼',
            dmgMult: 3.5,
            guaranteedHit: 0.5,
            telegraph: {
              0: 'ë¯¸ë˜ë¥¼ ë³¸ë‹¤',
              1: 'ë¯¸ë˜ì˜ ê³µê²©ì´ ë³´ì¸ë‹¤',
              2: 'ë¯¸ë˜ ì˜ˆì§€! 50% í•„ì¤‘',
              3: 'ë¯¸ë˜ê°€ í™•ì •ëœë‹¤!',
              4: 'âš ï¸ ë¯¸ë˜ ì˜ˆì§€! íšŒí”¼! 50% í•„ì¤‘!'
            },
            weight: 40
          },
          { ...BOSS_ABILITIES.ê´‘ì—­, weight: 30 },
          {
            id: 'ì‹œê°„_ì—­í–‰',
            name: 'ì‹œê°„ ì—­í–‰',
            correct: 'ì—­ìŠµ',
            dmgMult: 0.0,
            healPercent: 0.5,
            telegraph: {
              0: 'ì‹œê°„ì„ ë˜ëŒë¦°ë‹¤',
              1: 'ê³¼ê±°ë¡œ ëŒì•„ê°„ë‹¤',
              2: 'ì‹œê°„ ì—­í–‰! HP 50% íšŒë³µ',
              3: 'ì‹œê°„ì„ ë˜ëŒë¦°ë‹¤!',
              4: 'âš ï¸ ì‹œê°„ ì—­í–‰! ì—­ìŠµìœ¼ë¡œ ì¤‘ë‹¨! HP 50% íšŒë³µ!'
            },
            weight: 30
          }
        ],
        phaseStartAbility: {
          id: 'phase3_start',
          effect: { buffAtk: 0.5, defBonus: 0.5, buffSpd: 5, permanent: true },
          message: 'âŒ› ì‹œê°„ì˜ ìˆ˜í˜¸ìê°€ ë¯¸ë˜ë¥¼ ì§€ë°°í•œë‹¤! ì˜êµ¬ ê³µê²©ë ¥ +50%, ë°©ì–´ë ¥ +50%, ì†ë„ +5'
        }
      }
    ]
  },
  
  // ============================================
  // 90ì¸µ: í˜¼ëˆì˜ í™”ì‹  (í˜¼ëˆ ê·¸ ìì²´)
  // ============================================
  90: {
    id: 'chaos_incarnate',
    name: 'í˜¼ëˆì˜ í™”ì‹ ',
    floor: 90,
    type: 'aberration',
    baseHp: 13500,
    baseAtk: 450,
    baseDef: 200,
    baseExp: 16000,
    baseGold: 18000,
    spd: 11,
    desc: 'í˜¼ëˆ ê·¸ ìì²´, ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ ì¡´ì¬',
    firstKillReward: { grade: 5, guaranteed: true },
    
    phases: [
      {
        phase: 1,
        name: 'ë¬´ì§ˆì„œ',
        hpRange: [0.7, 1.0],
        patterns: [
          {
            id: 'í˜¼ëˆ_íƒ€ê²©',
            name: 'í˜¼ëˆ íƒ€ê²©',
            correct: 'random', // ë§¤ë²ˆ ëœë¤
            dmgMult: 2.0,
            telegraph: {
              0: 'í˜¼ëˆìŠ¤ëŸ¬ìš´ ì›€ì§ì„',
              1: 'ì˜ˆì¸¡í•  ìˆ˜ ì—†ëŠ” ê³µê²©',
              2: 'í˜¼ëˆ íƒ€ê²©! íŒ¨í„´ ë¶ˆëª…',
              3: 'ë¬´ì‘ìœ„ ê³µê²©!',
              4: 'âš ï¸ í˜¼ëˆ íƒ€ê²©! íŒ¨í„´ ì˜ˆì¸¡ ë¶ˆê°€!'
            },
            weight: 40
          },
          { ...UNIVERSAL_PATTERNS.ë¹ ë¥¸_ì—°íƒ€, weight: 30 },
          { ...BOSS_ABILITIES.ë””ë²„í”„_ë°©ì–´, weight: 30 }
        ]
      },
      {
        phase: 2,
        name: 'ì™œê³¡',
        hpRange: [0.4, 0.7],
        patterns: [
          {
            id: 'í˜„ì‹¤_ì™œê³¡',
            name: 'í˜„ì‹¤ ì™œê³¡',
            correct: 'ë°©ì–´',
            dmgMult: 2.5,
            defBreak: 0.7,
            confuseDuration: 2,
            telegraph: {
              0: 'í˜„ì‹¤ì´ ë’¤í‹€ë¦°ë‹¤',
              1: 'ê³µê°„ì´ ì™œê³¡ëœë‹¤',
              2: 'í˜„ì‹¤ ì™œê³¡! ë°©ì–´ 70% ê´€í†µ, 2í„´ í˜¼ë€',
              3: 'ëª¨ë“  ê²ƒì´ ë’¤í‹€ë¦°ë‹¤!',
              4: 'âš ï¸ í˜„ì‹¤ ì™œê³¡! ë°©ì–´! 70% ê´€í†µ, 2í„´ í˜¼ë€!'
            },
            weight: 40
          },
          {
            id: 'í˜¼ëˆ_í­ë°œ',
            name: 'í˜¼ëˆ í­ë°œ',
            correct: 'random',
            dmgMult: 2.3,
            telegraph: {
              0: 'í˜¼ëˆì´ í­ë°œí•œë‹¤',
              1: 'ë¬´ì§ˆì„œê°€ í„°ì§„ë‹¤',
              2: 'í˜¼ëˆ í­ë°œ! íŒ¨í„´ ë¶ˆëª…',
              3: 'í˜¼ëˆì´ í„°ì§„ë‹¤!',
              4: 'âš ï¸ í˜¼ëˆ í­ë°œ! íŒ¨í„´ ì˜ˆì¸¡ ë¶ˆê°€!'
            },
            weight: 30
          },
          { ...BOSS_ABILITIES.ì €ì£¼, weight: 30 }
        ],
        phaseStartAbility: {
          id: 'phase2_start',
          effect: { buffAtk: 0.4, permanent: true },
          message: 'ğŸŒ€ í˜¼ëˆì˜ í™”ì‹ ì´ í˜„ì‹¤ì„ ì™œê³¡í•œë‹¤! ì˜êµ¬ ê³µê²©ë ¥ +40%'
        }
      },
      {
        phase: 3,
        name: 'ì¢…ë§',
        hpRange: [0.0, 0.4],
        patterns: [
          {
            id: 'ì ˆëŒ€_í˜¼ëˆ',
            name: 'ì ˆëŒ€ í˜¼ëˆ',
            correct: 'random',
            dmgMult: 3.5,
            madnessGain: 40,
            telegraph: {
              0: 'ëª¨ë“  ê²ƒì´ í˜¼ëˆì— ë¹ ì§„ë‹¤',
              1: 'ì§ˆì„œê°€ ë¶•ê´´ëœë‹¤',
              2: 'ì ˆëŒ€ í˜¼ëˆ! ê´‘ê¸° +40',
              3: 'ì™„ì „í•œ í˜¼ëˆ!',
              4: 'âš ï¸ ì ˆëŒ€ í˜¼ëˆ! íŒ¨í„´ ë¶ˆëª…! ê´‘ê¸° +40!'
            },
            weight: 40
          },
          { ...BOSS_ABILITIES.ê´‘ì—­, weight: 30 },
          { ...BOSS_ABILITIES.íšŒë³µ, weight: 30 }
        ],
        phaseStartAbility: {
          id: 'phase3_start',
          effect: { buffAtk: 0.6, defBonus: 0.5, buffSpd: 10, permanent: true },
          message: 'ğŸ’¥ í˜¼ëˆì˜ í™”ì‹ ì´ ì™„ì „í•œ í˜¼ëˆì„ ì¼ìœ¼í‚¨ë‹¤! ì˜êµ¬ ê³µê²©ë ¥ +60%, ë°©ì–´ë ¥ +50%, ì†ë„ +10'
        }
      }
    ]
  },
  
  // ============================================
  // 100ì¸µ: ì¢…ë§ì˜ ì‹¬íŒì (ìµœì¢… ë³´ìŠ¤)
  // ============================================
  100: {
    id: 'final_judge',
    name: 'ì¢…ë§ì˜ ì‹¬íŒì',
    floor: 100,
    type: 'demon',
    baseHp: 18000,
    baseAtk: 520,
    baseDef: 250,
    baseExp: 20000,
    baseGold: 100000,
    spd: 12,
    desc: 'ì„¸ê³„ì˜ ì¢…ë§ì„ ì‹¬íŒí•˜ëŠ” ìµœí›„ì˜ ì¡´ì¬',
    firstKillReward: { grade: 5, guaranteed: true, count: 3 }, // Legendary 3ê°œ
    
    phases: [
      {
        phase: 1,
        name: 'ì‹¬íŒ ì¤€ë¹„',
        hpRange: [0.8, 1.0],
        patterns: [
          { ...UNIVERSAL_PATTERNS.ê°•íƒ€, weight: 25 },
          { ...UNIVERSAL_PATTERNS.íšŒì „_ë² ê¸°, weight: 25 },
          {
            id: 'ì˜ˆë¹„_ì‹¬íŒ',
            name: 'ì˜ˆë¹„ ì‹¬íŒ',
            correct: 'ë°©ì–´',
            dmgMult: 2.2,
            defBreak: 0.5,
            telegraph: {
              0: 'ì‹¬íŒì´ ì‹œì‘ëœë‹¤',
              1: 'ì£„ê°€ ì¸¡ì •ëœë‹¤',
              2: 'ì˜ˆë¹„ ì‹¬íŒ! ë°©ì–´ 50% ê´€í†µ',
              3: 'ì£„ê°€ íŒê²°ëœë‹¤!',
              4: 'âš ï¸ ì˜ˆë¹„ ì‹¬íŒ! ë°©ì–´! 50% ê´€í†µ!'
            },
            weight: 50
          }
        ]
      },
      {
        phase: 2,
        name: 'ë³¸ ì‹¬íŒ',
        hpRange: [0.6, 0.8],
        patterns: [
          {
            id: 'ì‹¬íŒì˜_ë¹›',
            name: 'ì‹¬íŒì˜ ë¹›',
            correct: 'ë°©ì–´',
            dmgMult: 2.8,
            defBreak: 0.7,
            telegraph: {
              0: 'ë¹›ì´ ë‚´ë¦°ë‹¤',
              1: 'ì‹¬íŒì˜ ë¹›ì´ ëª¨ì¸ë‹¤',
              2: 'ì‹¬íŒì˜ ë¹›! ë°©ì–´ 70% ê´€í†µ',
              3: 'ë¹›ì´ ëª¨ë“  ê²ƒì„ íƒœìš´ë‹¤!',
              4: 'âš ï¸ ì‹¬íŒì˜ ë¹›! ë°©ì–´! 70% ê´€í†µ!'
            },
            weight: 40
          },
          { ...BOSS_ABILITIES.ê´‘ì—­, weight: 30 },
          { ...BOSS_ABILITIES.ë²„í”„_ê³µê²©, weight: 30 }
        ],
        phaseStartAbility: {
          id: 'phase2_start',
          effect: { buffAtk: 0.4, permanent: true },
          message: 'âš–ï¸ ì¢…ë§ì˜ ì‹¬íŒìê°€ ë³¸ê²©ì ìœ¼ë¡œ ì‹¬íŒí•œë‹¤! ì˜êµ¬ ê³µê²©ë ¥ +40%'
        }
      },
      {
        phase: 3,
        name: 'ìµœí›„ì˜ ì‹¬íŒ',
        hpRange: [0.3, 0.6],
        patterns: [
          {
            id: 'ì¢…ë§_ì˜ˆì–¸',
            name: 'ì¢…ë§ ì˜ˆì–¸',
            correct: 'ì—­ìŠµ',
            dmgMult: 0.8,
            doomMarkDuration: 4,
            doomMarkDmg: 9999,
            telegraph: {
              0: 'ì¢…ë§ì´ ì˜ˆì–¸ëœë‹¤',
              1: 'íŒŒë©¸ì´ í™•ì •ëœë‹¤',
              2: 'ì¢…ë§ ì˜ˆì–¸! 4í„´ í›„ 9999 í”¼í•´',
              3: 'ì˜ˆì–¸ì´ ì™„ì„±ëœë‹¤!',
              4: 'âš ï¸ ì¢…ë§ ì˜ˆì–¸! ì—­ìŠµìœ¼ë¡œ ëŠê±°ë‚˜ 4í„´ ë‚´ ì²˜ì¹˜!'
            },
            weight: 35
          },
          {
            id: 'ìµœí›„ì˜_ì‹¬íŒ',
            name: 'ìµœí›„ì˜ ì‹¬íŒ',
            correct: 'ë°©ì–´',
            dmgMult: 3.2,
            defBreak: 0.8,
            telegraph: {
              0: 'ìµœí›„ì˜ ë¹›ì´ ëª¨ì¸ë‹¤',
              1: 'ëª¨ë“  ê²ƒì´ ì‹¬íŒë°›ëŠ”ë‹¤',
              2: 'ìµœí›„ì˜ ì‹¬íŒ! ë°©ì–´ 80% ê´€í†µ',
              3: 'ì¢…ë§ì´ ë‚´ë¦°ë‹¤!',
              4: 'âš ï¸ ìµœí›„ì˜ ì‹¬íŒ! ìµœëŒ€ ë°©ì–´! 80% ê´€í†µ!'
            },
            weight: 35
          },
          { ...BOSS_ABILITIES.íšŒë³µ, weight: 30 }
        ],
        phaseStartAbility: {
          id: 'phase3_start',
          effect: { buffAtk: 0.5, defBonus: 0.4, permanent: true },
          message: 'â˜ ï¸ ì¢…ë§ì˜ ì‹¬íŒìê°€ ìµœí›„ì˜ í˜ì„ ë°œíœ˜í•œë‹¤! ì˜êµ¬ ê³µê²©ë ¥ +50%, ë°©ì–´ë ¥ +40%'
        }
      },
      {
        phase: 4,
        name: 'ì¢…ë§',
        hpRange: [0.0, 0.3],
        patterns: [
          {
            id: 'ì„¸ê³„ì˜_ì¢…ë§',
            name: 'ì„¸ê³„ì˜ ì¢…ë§',
            correct: 'íšŒí”¼',
            dmgMult: 4.0,
            defBreak: 1.0,
            madnessGain: 50,
            telegraph: {
              0: 'ëª¨ë“  ê²ƒì´ ëë‚œë‹¤',
              1: 'ì„¸ê³„ê°€ ì¢…ë§ì„ ë§ëŠ”ë‹¤',
              2: 'ì„¸ê³„ì˜ ì¢…ë§! ë°©ì–´ ë¬´ìš©, ê´‘ê¸° +50',
              3: 'ëª¨ë“  ê²ƒì´ ëë‚œë‹¤!',
              4: 'âš ï¸ ì„¸ê³„ì˜ ì¢…ë§! íšŒí”¼ í•„ìˆ˜! ë°©ì–´ ë¬´ìš©, ê´‘ê¸° +50!'
            },
            weight: 40
          },
          {
            id: 'ìµœí›„ì˜_ì‹¬íŒ',
            name: 'ìµœí›„ì˜ ì‹¬íŒ',
            correct: 'ë°©ì–´',
            dmgMult: 3.5,
            defBreak: 0.9,
            telegraph: {
              0: 'ìµœí›„ì˜ ë¹›ì´ ëª¨ì¸ë‹¤',
              1: 'ëª¨ë“  ê²ƒì´ ì‹¬íŒë°›ëŠ”ë‹¤',
              2: 'ìµœí›„ì˜ ì‹¬íŒ! ë°©ì–´ 90% ê´€í†µ',
              3: 'ì¢…ë§ì´ ë‚´ë¦°ë‹¤!',
              4: 'âš ï¸ ìµœí›„ì˜ ì‹¬íŒ! ìµœëŒ€ ë°©ì–´! 90% ê´€í†µ!'
            },
            weight: 30
          },
          { ...BOSS_ABILITIES.ê´‘ì—­, weight: 30 }
        ],
        phaseStartAbility: {
          id: 'phase4_start',
          effect: { buffAtk: 0.7, defBonus: 0.6, buffSpd: 10, permanent: true },
          message: 'ğŸŒğŸ’€ ì¢…ë§ì˜ ì‹¬íŒìê°€ ì§„ì •í•œ ì¢…ë§ì„ ì¼ìœ¼í‚¨ë‹¤! ì˜êµ¬ ê³µê²©ë ¥ +70%, ë°©ì–´ë ¥ +60%, ì†ë„ +10'
        }
      }
    ]
  }
};

module.exports = {
  BOSS_ABILITIES,
  BOSSES
};
